#summary SPH particles to volume grid assigner.
#labels COSMOLOGY,gadget-2,SPH,hydrodynamics,gasdynamics,CLUES,galaxy,galaxyformation,disk

= Introduction =

sph2grid is used to produce this slice from the GADGET-2 cosmological snapshot.


The image was generated by IDL script provided with sph2grid source.
The grid size is 1024^3^ cells.
[http://sph2grid.googlecode.com/svn/wiki/WikiPageName.attach/gas_snap_497_1024.png]

Another  example for isolated galaxy, where grid=512^3^ cells.
[http://sph2grid.googlecode.com/svn/wiki/WikiPageName.attach/isol_gal.png]

= Details =

The particles from the N-body simulation is assigned to the volume grid.
The code requires GADGET-2 file and the given radius around the center will be assigned to the volume grid.


The output can be directly rendered/visualized by scripts provided in the IDL directory. 
It is uses SPH technique to assign density.
Code reads HSML and RHO blocks from the gadget-2 file for a Gas particles(TYPE=0). For other particles it require also that user should provide particles smoothing lengths and densities in the 


external file witted in the GADGET-2 format which holds only:
*HEAD*, *Hx*, *RHOx*, blocks where *x* can be 1,2,3,4,5, it denotes the type of the particles. One should notice that HEAD holds total number of particles in the {{{npart[0]}}}.
For example for assigning the Dark matter particles to the grid user should provide 2 files: snapshot and density/hsml file. 


If we assume: *snapshot_100* then *hsml* file for *TYPE=1* will be: *snapshot_100_rho_1*, which contains only the *HSML*, *RHO1*, *H1* blocks.
---
The basic usage is:
{{{
./sph2grid [FILEIN] [type] [XC YC ZC RC] [GRID]
./sph2grid /dnas01/arm2arm/DATA/LIA/LG64/4096/snap_497 1 23320.1465   33241.4844   27438.0801  2500 128  
}}}
here SPH2GRID  will seek file *snap_497_rho_1* with blocks *H1* and *RHO1* 
for the smoothing lengths.